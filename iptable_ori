# Generated by iptables-save v1.8.4 on Sun May 21 14:07:49 2023
*nat
:PREROUTING ACCEPT [28:6620]
:INPUT ACCEPT [28:6620]
:OUTPUT ACCEPT [495:33282]
:POSTROUTING ACCEPT [495:33282]
:DOCKER - [0:0]
:FLANNEL-POSTRTG - [0:0]
:KUBE-KUBELET-CANARY - [0:0]
-A PREROUTING -m addrtype --dst-type LOCAL -j DOCKER
-A OUTPUT ! -d 127.0.0.0/8 -m addrtype --dst-type LOCAL -j DOCKER
-A POSTROUTING -s 172.17.0.0/16 ! -o br-ce5a916efb65 -j MASQUERADE
-A POSTROUTING -s 10.0.12.0/24 ! -o docker0 -j MASQUERADE
-A POSTROUTING -s 172.18.0.0/16 ! -o br-11e88c79ead8 -j MASQUERADE
-A POSTROUTING -s 172.18.0.2/32 -d 172.18.0.2/32 -p tcp -m tcp --dport 2380 -j MASQUERADE
-A POSTROUTING -s 172.18.0.2/32 -d 172.18.0.2/32 -p tcp -m tcp --dport 2379 -j MASQUERADE
-A POSTROUTING -m comment --comment "flanneld masq" -j FLANNEL-POSTRTG
-A DOCKER -i br-ce5a916efb65 -j RETURN
-A DOCKER -i docker0 -j RETURN
-A DOCKER -i br-11e88c79ead8 -j RETURN
-A DOCKER ! -i br-11e88c79ead8 -p tcp -m tcp --dport 2380 -j DNAT --to-destination 172.18.0.2:2380
-A DOCKER ! -i br-11e88c79ead8 -p tcp -m tcp --dport 2379 -j DNAT --to-destination 172.18.0.2:2379
-A FLANNEL-POSTRTG -m mark --mark 0x4000/0x4000 -m comment --comment "flanneld masq" -j RETURN
-A FLANNEL-POSTRTG -s 10.0.12.0/24 -d 10.0.0.0/16 -m comment --comment "flanneld masq" -j RETURN
-A FLANNEL-POSTRTG -s 10.0.0.0/16 -d 10.0.12.0/24 -m comment --comment "flanneld masq" -j RETURN
-A FLANNEL-POSTRTG ! -s 10.0.0.0/16 -d 10.0.12.0/24 -m comment --comment "flanneld masq" -j RETURN
-A FLANNEL-POSTRTG -s 10.0.0.0/16 ! -d 224.0.0.0/4 -m comment --comment "flanneld masq" -j MASQUERADE --random-fully
-A FLANNEL-POSTRTG ! -s 10.0.0.0/16 -d 10.0.0.0/16 -m comment --comment "flanneld masq" -j MASQUERADE --random-fully
COMMIT
# Completed on Sun May 21 14:07:49 2023
# Generated by iptables-save v1.8.4 on Sun May 21 14:07:49 2023
*filter
:INPUT ACCEPT [155754:24883601]
:FORWARD ACCEPT [0:0]
:OUTPUT ACCEPT [180603:29073667]
:DOCKER - [0:0]
:DOCKER-ISOLATION-STAGE-1 - [0:0]
:DOCKER-ISOLATION-STAGE-2 - [0:0]
:DOCKER-USER - [0:0]
:FLANNEL-FWD - [0:0]
:KUBE-FIREWALL - [0:0]
:KUBE-KUBELET-CANARY - [0:0]
-A INPUT -j KUBE-FIREWALL
-A FORWARD -j DOCKER-USER
-A FORWARD -j DOCKER-ISOLATION-STAGE-1
-A FORWARD -o br-ce5a916efb65 -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT
-A FORWARD -o br-ce5a916efb65 -j DOCKER
-A FORWARD -i br-ce5a916efb65 ! -o br-ce5a916efb65 -j ACCEPT
-A FORWARD -i br-ce5a916efb65 -o br-ce5a916efb65 -j ACCEPT
-A FORWARD -o docker0 -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT
-A FORWARD -o docker0 -j DOCKER
-A FORWARD -i docker0 ! -o docker0 -j ACCEPT
-A FORWARD -i docker0 -o docker0 -j ACCEPT
-A FORWARD -o br-11e88c79ead8 -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT
-A FORWARD -o br-11e88c79ead8 -j DOCKER
-A FORWARD -i br-11e88c79ead8 ! -o br-11e88c79ead8 -j ACCEPT
-A FORWARD -i br-11e88c79ead8 -o br-11e88c79ead8 -j ACCEPT
-A FORWARD -m comment --comment "flanneld forward" -j FLANNEL-FWD
-A OUTPUT -j KUBE-FIREWALL
-A DOCKER -d 172.18.0.2/32 ! -i br-11e88c79ead8 -o br-11e88c79ead8 -p tcp -m tcp --dport 2380 -j ACCEPT
-A DOCKER -d 172.18.0.2/32 ! -i br-11e88c79ead8 -o br-11e88c79ead8 -p tcp -m tcp --dport 2379 -j ACCEPT
-A DOCKER-ISOLATION-STAGE-1 -i br-ce5a916efb65 ! -o br-ce5a916efb65 -j DOCKER-ISOLATION-STAGE-2
-A DOCKER-ISOLATION-STAGE-1 -i docker0 ! -o docker0 -j DOCKER-ISOLATION-STAGE-2
-A DOCKER-ISOLATION-STAGE-1 -i br-11e88c79ead8 ! -o br-11e88c79ead8 -j DOCKER-ISOLATION-STAGE-2
-A DOCKER-ISOLATION-STAGE-1 -j RETURN
-A DOCKER-ISOLATION-STAGE-2 -o br-ce5a916efb65 -j DROP
-A DOCKER-ISOLATION-STAGE-2 -o docker0 -j DROP
-A DOCKER-ISOLATION-STAGE-2 -o br-11e88c79ead8 -j DROP
-A DOCKER-ISOLATION-STAGE-2 -j RETURN
-A DOCKER-USER -j RETURN
-A FLANNEL-FWD -s 10.0.0.0/16 -m comment --comment "flanneld forward" -j ACCEPT
-A FLANNEL-FWD -d 10.0.0.0/16 -m comment --comment "flanneld forward" -j ACCEPT
-A KUBE-FIREWALL ! -s 127.0.0.0/8 -d 127.0.0.0/8 -m comment --comment "block incoming localnet connections" -m conntrack ! --ctstate RELATED,ESTABLISHED,DNAT -j DROP
COMMIT
# Completed on Sun May 21 14:07:49 2023
# Generated by iptables-save v1.8.4 on Sun May 21 14:07:49 2023
*mangle
:PREROUTING ACCEPT [3997504:925018980]
:INPUT ACCEPT [3803374:895052057]
:FORWARD ACCEPT [194124:29964823]
:OUTPUT ACCEPT [4161645:938785066]
:POSTROUTING ACCEPT [4355769:968749889]
:KUBE-IPTABLES-HINT - [0:0]
:KUBE-KUBELET-CANARY - [0:0]
COMMIT
# Completed on Sun May 21 14:07:49 2023
